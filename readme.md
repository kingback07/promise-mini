# 一言为定 (Promise Mini) - 小程序项目文档

## 1. 项目简介
“一言为定”是一款基于微信小程序生态的工具类应用，旨在帮助用户记录承诺、契约或约定。通过数字化记录，增强人与人之间的信任与契约精神。

**核心价值**：
- **记录**：便捷记录承诺内容、时间、对象。
- **见证**：虽然目前主要由用户自行记录，未来可引入见证机制。
- **提醒**：承诺到期提醒。

## 2. 技术架构

本项目采用 **微信小程序云开发 (WeChat CloudBase)** 方案，实现免服务器运维、低成本快速上线。

### 2.1 架构概览
- **前端**：微信小程序原生框架 (WXML, WXSS, JS)
- **后端**：微信云开发 (Cloud Functions)
- **数据库**：云数据库 (Cloud Database - NoSQL)
- **存储**：云存储 (Cloud Storage)

### 2.2 目录结构
```
/workspace
  ├── cloudfunctions/        # 云函数目录
  │   ├── login/             # 登录云函数
  │   ├── promiseCreate/     # 创建承诺
  │   └── promiseGetList/    # 获取承诺列表
  ├── miniprogram/           # 小程序前端代码
  │   ├── pages/
  │   │   ├── index/         # 首页（承诺列表）
  │   │   ├── create/        # 创建承诺页
  │   │   └── detail/        # 承诺详情页
  │   ├── app.js             # 逻辑入口
  │   ├── app.json           # 全局配置
  │   └── envList.js         # 环境配置
  └── project.config.json    # 项目配置文件
```

## 3. 部署指南

### 3.1 环境准备
1.  注册微信小程序账号。
2.  下载并安装微信开发者工具。
3.  开通云开发环境。

### 3.2 数据库配置
在云开发控制台中创建集合 `promises`，并将权限设置为“仅创建者可读写”或“所有用户可读，仅创建者可写”（根据实际需求，推荐前者）。

### 3.3 云函数部署
1.  在微信开发者工具中，右键点击 `cloudfunctions` 目录下的每个云函数文件夹（如 `login`, `promiseCreate` 等）。
2.  选择“上传并部署：云端安装依赖”。

### 3.4 前端配置
1.  打开 `miniprogram/envList.js`，填入你的云开发环境 ID。
2.  重新编译小程序。

## 4. 功能说明 (V1.0)
- **首页**：展示当前用户创建的所有承诺列表，区分状态（进行中、已完成、已失效）。
- **创建页**：填写承诺主题、详细内容、选择截止日期，提交保存。
- **详情页**：查看承诺的完整信息。

## 5. 开发规范
- 遵循 `Architecture.md` 中的架构设计原则。
- 代码提交前请确保本地编译通过。
- 云函数修改后必须重新上传部署才能生效。
